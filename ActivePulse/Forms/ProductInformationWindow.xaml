<Window x:Class="ActivePulse.Forms.ProductInformationWindow"
         xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:ActivePulse.Forms"
        mc:Ignorable="d"
        Title="Информация о товаре" 
        Height="757" 
        Width="800"
        WindowStartupLocation="CenterScreen"
        Background="#FF424242">

    <Window.Resources>
        <!-- Стиль для заголовков разделов -->
        <Style TargetType="TextBlock" x:Key="SectionHeader">
            <Setter Property="Foreground" Value="#FFD4A017"/>
            <Setter Property="FontSize" Value="18"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Margin" Value="0,0,0,10"/>
        </Style>

        <!-- Стиль для названия товара -->
        <Style TargetType="TextBlock" x:Key="ProductTitle">
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="FontSize" Value="24"/>
            <Setter Property="Margin" Value="0,0,0,20"/>
            <Setter Property="TextWrapping" Value="Wrap"/>
        </Style>

        <!-- Стиль для характеристик товара -->
        <Style TargetType="TextBlock" x:Key="ProductSpec">
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="Margin" Value="0,5,0,5"/>
            <Setter Property="TextWrapping" Value="Wrap"/>
        </Style>

        <!-- Стиль для цены -->
        <Style TargetType="TextBlock" x:Key="ProductPrice">
            <Setter Property="Foreground" Value="#FFD4A017"/>
            <Setter Property="FontSize" Value="20"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Margin" Value="0,20,0,0"/>
        </Style>

        <!-- Стиль для кнопок -->
        <Style TargetType="Button" x:Key="ActionButton">
            <Setter Property="Background" Value="#FF555555"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderBrush" Value="#FFD4A017"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Padding" Value="15,8"/>
            <Setter Property="Margin" Value="0,5,0,0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="HorizontalAlignment" Value="Left"/>
            <Setter Property="Width" Value="200"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" 
                                BorderBrush="{TemplateBinding BorderBrush}" 
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="3">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#FFD4A017"/>
                    <Setter Property="Foreground" Value="Black"/>
                </Trigger>
            </Style.Triggers>
        </Style>
    </Window.Resources>

    <Grid Margin="20">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="300"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Изображение товара -->
        <Border Grid.Column="0" Background="#FF333333" CornerRadius="5" Padding="10">
            <Image x:Name="ProductImage" Stretch="Uniform"/>
        </Border>

        <!-- Информация о товаре -->
        <StackPanel Grid.Column="1" Margin="20,0,0,0">
            <TextBlock x:Name="ProductNameTextBlock" Style="{StaticResource ProductTitle}"/>

            <TextBlock Text="Производитель:" Style="{StaticResource SectionHeader}"/>
            <TextBlock x:Name="ManufacturerTextBlock" Style="{StaticResource ProductSpec}"/>

            <TextBlock Text="Гарантия:" Style="{StaticResource SectionHeader}"/>
            <TextBlock x:Name="WarrantyTextBlock" Style="{StaticResource ProductSpec}"/>

            <TextBlock Text="Характеристики:" Style="{StaticResource SectionHeader}"/>
            <TextBlock x:Name="ColorTextBlock" Style="{StaticResource ProductSpec}"/>
            <TextBlock x:Name="MaterialTextBlock" Style="{StaticResource ProductSpec}"/>
            <TextBlock x:Name="WeightTextBlock" Style="{StaticResource ProductSpec}"/>
            <TextBlock x:Name="SizeTextBlock" Style="{StaticResource ProductSpec}"/>
            <TextBlock x:Name="GenderTextBlock" Style="{StaticResource ProductSpec}"/>

            <TextBlock x:Name="PriceTextBlock" Style="{StaticResource ProductPrice}"/>

            <TextBlock Text="Размер:" Style="{StaticResource SectionHeader}"/>
            <ComboBox x:Name="SizeComboBox" 
              Margin="0,5,0,10"
              Width="200"
              HorizontalAlignment="Left" SelectionChanged="SizeComboBox_SelectionChanged"/>

            <TextBlock Text="Наличие в магазинах:" Style="{StaticResource SectionHeader}"/>
            <ListBox x:Name="StoreAvailabilityListBox" 
         Margin="0,5,0,20"
         Background="Transparent"
         BorderThickness="0">
                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal" Margin="0,2">
                            <TextBlock Text="{Binding StoreName}" Foreground="White" Width="200"/>
                            <TextBlock Text="{Binding Quantity}" Foreground="White" Margin="10,0,0,0"/>
                            <TextBlock Text="{Binding Status}" 
                           Foreground="{Binding StatusColor}"
                           Margin="10,0,0,0"/>
                        </StackPanel>
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>
            <Button Content="Добавить в корзину" 
                    Style="{StaticResource ActionButton}"
                    Click="AddToCart_Click"
                    Tag="{Binding ProductId}"
                    x:Name="AddToCartButton"/>
            <Button Content="Добавить в избранное" 
                    Style="{StaticResource ActionButton}"
                    Click="AddToFavourites_Click"
                    Tag="{Binding ProductId}"/>
        </StackPanel>
    </Grid>
</Window>
